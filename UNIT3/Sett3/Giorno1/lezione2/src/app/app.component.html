<div class="container text-center">
    <h1>Reactive Form</h1>
</div>
<div class="container">
    <div class="row">
        <div class="col-12">
            <form [formGroup]="form">
                <div formGroupName="userInfo">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input
                            type="text"
                            id="username"
                            class="form-control"
                            formControlName="username"
                        />
                        <span
                            *ngIf="
                                getFormC('userInfo.username')?.invalid &&
                                getFormC('userInfo.username')?.touched
                            "
                        >
                            <ng-container
                                *ngIf="
                                    getErrorsC('userInfo.username', 'required')
                                "
                                ><strong class="text-danger"
                                    >Campo username obbligatorio</strong
                                ></ng-container
                            >
                            <ng-container
                                *ngIf="
                                    getErrorsC('userInfo.username', 'proibito')
                                "
                                ><strong class="text-danger"
                                    >Username non consentito</strong
                                >
                            </ng-container>
                        </span>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input
                            type="email"
                            id="email"
                            class="form-control"
                            formControlName="email"
                        />
                        <span
                            *ngIf="
                                getFormC('userInfo.email')?.invalid &&
                                getFormC('userInfo.email')?.touched
                            "
                        >
                            <ng-container
                                *ngIf="getErrorsC('userInfo.email', 'required')"
                                ><strong class="text-danger"
                                    >Campo email obbligatorio</strong
                                >
                            </ng-container>
                            <ng-container
                                *ngIf="getErrorsC('userInfo.email', 'email')"
                                ><strong class="text-danger"
                                    >Email non valida</strong
                                >
                            </ng-container>
                        </span>
                    </div>
                </div>
                <div class="radio" *ngFor="let gender of genders">
                    <input
                        type="radio"
                        formControlName="gender"
                        [value]="gender"
                    />
                    <label>{{ gender }}</label>
                </div>
                <div formArrayName="interests" class="mb-3">
                    <h3>I miei interessi</h3>
                    <button
                        type="button"
                        class="btn btn-success"
                        (click)="addInterests()"
                    >
                        Aggiungi interesse
                    </button>
                    <div
                        class="form-group mb-2"
                        *ngFor="
                            let interest of getInterestsFields();
                            let i = index
                        "
                    >
                        <input
                            type="text"
                            class="form-control"
                            [formControlName]="i"
                        />
                    </div>
                </div>
                <button
                    type="submit"
                    (click)="submit()"
                    class="btn btn-primary"
                    [disabled]="form.invalid"
                >
                    Invia
                </button>
            </form>
        </div>
    </div>
</div>
